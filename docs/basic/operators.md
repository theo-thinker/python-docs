# Python 运算符

运算符是用来执行操作的特殊符号。Python 提供了多种类型的运算符，使您能够执行各种操作。

## 算术运算符

用于执行基本的数学运算：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `+` | 加法 | `x + y` |
| `-` | 减法 | `x - y` |
| `*` | 乘法 | `x * y` |
| `/` | 除法（返回浮点数） | `x / y` |
| `//` | 整除（返回整数） | `x // y` |
| `%` | 取模（返回除法余数） | `x % y` |
| `**` | 幂运算 | `x ** y` |

示例：

```python
a = 10
b = 3

print(a + b)   # 13
print(a - b)   # 7
print(a * b)   # 30
print(a / b)   # 3.3333333333333335
print(a // b)  # 3
print(a % b)   # 1
print(a ** b)  # 1000
```

## 比较运算符

用于比较两个值，返回布尔值（`True` 或 `False`）：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `==` | 等于 | `x == y` |
| `!=` | 不等于 | `x != y` |
| `>` | 大于 | `x > y` |
| `<` | 小于 | `x < y` |
| `>=` | 大于等于 | `x >= y` |
| `<=` | 小于等于 | `x <= y` |

示例：

```python
a = 10
b = 20

print(a == b)  # False
print(a != b)  # True
print(a > b)   # False
print(a < b)   # True
print(a >= b)  # False
print(a <= b)  # True
```

## 逻辑运算符

用于组合条件表达式：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `and` | 逻辑与：如果两个操作数都为真，则结果为真 | `x and y` |
| `or` | 逻辑或：如果两个操作数中有一个为真，则结果为真 | `x or y` |
| `not` | 逻辑非：如果操作数为真，则结果为假；反之亦然 | `not x` |

示例：

```python
a = True
b = False

print(a and b)  # False
print(a or b)   # True
print(not a)    # False
print(not b)    # True

# 短路求值
# 一旦确定结果，后续表达式将不再计算
print(False and print("不会执行"))  # False
print(True or print("不会执行"))    # True
```

## 赋值运算符

用于给变量赋值：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `=` | 简单赋值 | `x = 5` |
| `+=` | 加法并赋值 | `x += 5` 相当于 `x = x + 5` |
| `-=` | 减法并赋值 | `x -= 5` 相当于 `x = x - 5` |
| `*=` | 乘法并赋值 | `x *= 5` 相当于 `x = x * 5` |
| `/=` | 除法并赋值 | `x /= 5` 相当于 `x = x / 5` |
| `//=` | 整除并赋值 | `x //= 5` 相当于 `x = x // 5` |
| `%=` | 取模并赋值 | `x %= 5` 相当于 `x = x % 5` |
| `**=` | 幂运算并赋值 | `x **= 5` 相当于 `x = x ** 5` |

示例：

```python
a = 10

a += 5   # a = a + 5
print(a)  # 15

a -= 3   # a = a - 3
print(a)  # 12

a *= 2   # a = a * 2
print(a)  # 24

a /= 6   # a = a / 6
print(a)  # 4.0

a //= 2  # a = a // 2
print(a)  # 2.0 (注意：这里仍然是浮点数)

a %= 1.5  # a = a % 1.5
print(a)  # 0.5

a = 2
a **= 3  # a = a ** 3
print(a)  # 8
```

## 位运算符

用于对二进制位进行操作：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `&` | 按位与 | `x & y` |
| `\|` | 按位或 | `x \| y` |
| `^` | 按位异或 | `x ^ y` |
| `~` | 按位取反 | `~x` |
| `<<` | 左移 | `x << y` |
| `>>` | 右移 | `x >> y` |

示例：

```python
a = 60  # 二进制为 0011 1100
b = 13  # 二进制为 0000 1101

print(a & b)   # 按位与: 12 (0000 1100)
print(a | b)   # 按位或: 61 (0011 1101)
print(a ^ b)   # 按位异或: 49 (0011 0001)
print(~a)      # 按位取反: -61 (1100 0011)
print(a << 2)  # 左移两位: 240 (1111 0000)
print(a >> 2)  # 右移两位: 15 (0000 1111)
```

## 成员运算符

用于测试序列中是否存在某个值：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `in` | 如果在指定的序列中找到值，则返回 True | `x in y` |
| `not in` | 如果在指定的序列中没有找到值，则返回 True | `x not in y` |

示例：

```python
fruits = ['苹果', '香蕉', '橙子']
text = "Hello, World!"

print('苹果' in fruits)      # True
print('西瓜' in fruits)      # False
print('西瓜' not in fruits)  # True

print('Hello' in text)      # True
print('Python' in text)     # False
```

## 身份运算符

用于比较对象的内存地址：

| 运算符 | 描述 | 示例 |
|-------|------|------|
| `is` | 如果两个变量引用同一个对象，则返回 True | `x is y` |
| `is not` | 如果两个变量引用不同的对象，则返回 True | `x is not y` |

示例：

```python
a = [1, 2, 3]
b = [1, 2, 3]
c = a

print(a is b)      # False (a 和 b 是不同的对象)
print(a is c)      # True  (a 和 c 是同一个对象)
print(a is not b)  # True
print(a == b)      # True  (内容相同，但不是同一个对象)
```

::: warning 注意
`is` 和 `==` 的区别：`is` 比较对象的身份（内存地址），而 `==` 比较对象的值。
:::

## 运算符优先级

运算符的优先级决定了表达式中计算的顺序。下表按照优先级从高到低列出了 Python 的运算符：

| 运算符 | 描述 |
|-------|------|
| `**` | 幂运算 |
| `~`, `+`, `-` | 按位取反，一元加号和减号 |
| `*`, `/`, `//`, `%` | 乘，除，整除，取模 |
| `+`, `-` | 加，减 |
| `>>`, `<<` | 右移，左移 |
| `&` | 按位与 |
| `^` | 按位异或 |
| `\|` | 按位或 |
| `<=`, `<`, `>`, `>=` | 比较运算符 |
| `==`, `!=` | 等于，不等于 |
| `=`, `+=`, `-=`, 等 | 赋值运算符 |
| `is`, `is not` | 身份运算符 |
| `in`, `not in` | 成员运算符 |
| `not`, `and`, `or` | 逻辑运算符 |

示例：

```python
# 运算符优先级示例
x = 1 + 2 * 3  # 乘法先于加法，结果为 7 而不是 9
print(x)

y = (1 + 2) * 3  # 使用括号改变优先级，结果为 9
print(y)

# 复杂表达式
z = 5 + 3 * 2 ** 2  # 2^2 = 4, 4*3 = 12, 12+5 = 17
print(z)
```

::: tip 提示
使用括号 `()` 可以使表达式更易读，并且可以改变运算的优先级。
:::

## 三元运算符

Python 支持条件表达式（三元运算符）用于简化条件语句：

```python
# 语法: value_if_true if condition else value_if_false
age = 20
status = "成年" if age >= 18 else "未成年"
print(status)  # 输出: 成年

# 嵌套三元运算符
score = 75
grade = "优" if score >= 90 else "良" if score >= 70 else "及格" if score >= 60 else "不及格"
print(grade)  # 输出: 良
```

## 练习

1. 计算 7 的平方根：
   ```python
   import math
   print(math.sqrt(7))  # 或使用 7 ** 0.5
   ```

2. 检查一个数是否是偶数：
   ```python
   num = 10
   is_even = num % 2 == 0
   print(is_even)  # True
   ```

3. 使用三元运算符根据年龄计算票价：
   ```python
   age = 15
   price = 5 if age < 12 else 10 if age < 18 else 15
   print(f"票价: {price}元")
   ```

## 下一步

现在您已经了解了 Python 的各种运算符，接下来可以学习 [Python 控制流](/basic/control-flow)。 